<template>
  <div class="service-page">
		<div class="service-santeh-ustanovka-background">
	  	<div class="container is-more-padding-vertical">
		  	<div class="content">
			  	<section class="hero is-content">
						<div class="hero-body">
				  		<div class="columns">
				  			<div class="column">
				  				<div class="subtitle is-blue">
				  					<span class="icon"><i class="fa fa-tint"></i></span>
				  					Сантехнические работы любой сложности
				  				</div>
				  				<h1 class="title is-green">Сантехника любой сложности</h1>
								</div>	  				
				  			<div class="column">
                  <h4>Водоснабжение загородного дома (скважина/колодец)</h4>
                  <p>На основании анализа воды, я помогу Вам подобрать оптимальный фильтр очистки, установлю гидроаккумулятор и многое другое. Обещаю вам, что все работы буду выполнены в срок, грамотно и эстетически красиво.</p>
                  <p>Готов выполнить работу «под ключ», полностью сделать разводку труб водоснабжения, установить грамотно всю водоподготовку.</p>
                  <h4>Установка сантехнического оборудования</h4>
				  				<p>Установлю туалет, раковину, душевую и прочее сантехническое оборудование. Возможна работа «под ключ» с разводкой водяных труб по дому. Опыт работы более 15 лет.</p>
				  			</div>
				  		</div>
			  		</div>
			  	</section>
		  	</div>
	  	</div>
  	</div>
    <div class="container">
      <div class="content">
        <section class="hero is-medium">
          <div class="hero-body">
            <div class="menu-page-app">
              <div class="columns has-text-centered">
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/viezd.svg" alt="Шаг 1"/><br/>Бесплатный выезд сметчика на объект                  
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/dogovor.svg" alt="Шаг 2"/><br/>Составление предварительной сметы за 1 рабочий день
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/proektirovanie.svg" alt="Шаг 3"/><br/>При необходимости, изготовление проекта
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/oplata-50.svg" alt="Шаг 4"/><br/>Подписание договора и оплата материалов
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/money.svg" alt="Шаг 5"/><br/>Оплата 50% выполненных работ
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/oplata-100.svg" alt="Шаг 6"/><br/>Подписание акта выполненных работ, финальный расчёт
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
    <div class="is-gray">
      <div class="container">
        <div class="content">
          <section class="hero is-small">
            <div class="hero-body">
              <div class="menu-page-app">
                <div class="columns">
                  <div class="column is-full-mobile">                    
                    <h2>Стоимость основных работ</h2>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Точка водопровода (ХВС или ГВС)</td><td>от 250 руб./пог.м</td></tr>
                        <tr><td>Канализация (точка)</td><td>от 250 руб./пог.м</td></tr>
                        <tr><td>Инсталляция</td><td>от 2500 руб.</td></tr>
                        <tr><td>Унитаз</td><td>от 1800 руб.</td></tr>
                        <tr><td>Умывальник</td><td>от 1500 руб.</td></tr>
                        <tr><td>Ванна</td><td>от 2000 руб.</td></tr>
                        <tr><td>Смеситель</td><td>от 800 руб.</td></tr>
                        <tr><td>Полотенцесушитель, радиатор</td><td>от 2800 руб.</td></tr>
                        <tr><td>Душевая стойка</td><td>от 1500 руб.</td></tr>
                        <tr><td>Фильтр питьевой</td><td>от 1500 руб.</td></tr>
                      </tbody>
                    </table>
                    <h3>Возможно понадобится</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Штроба под воду</td><td>от 250 руб./м</td></tr>
                        <tr><td>Штроба под канализацию</td><td>от 400 руб./м</td></tr>
                        <tr><td>Прохождение стены (простое)</td><td>50 руб./отверстие</td></tr>
                        <tr><td>Прохождение стены (сложное)</td><td>100 руб./отверстие</td></tr>
                      </tbody>
                    </table>
                    <h3>Выезд на объект</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Транспортные расходы (в черте города)</td><td>400 руб./поездка</td></tr>
                        <tr><td>Транспортные расходы (по Лен. обл.)</td><td>от 600 руб./поездка</td></tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="column is-full-mobile">
                    <h2>Принципы моей работы</h2>
                    <ul>
                      <li>Только проверенный мной брэнды труб из полипропилена или метала;</li>
                      <li>Всегда полный отчёт (чеки) по стройматериалам;</li>
                      <li>Довожу до финала, не берусь за два объекта одновременно;</li>
                      <li>Работаю по договору с нашим юр. лицом (ООО «Изи Групп»);</li>
                      <li>Одна русская бригада уже более 10 лет (Юрий и Ростислав);</li>
                      <li>Я даю 1 год настоящей гарантии на все свои работы.</li>
                    </ul>
                    <h3>Полезные советы <span class="tag is-medium is-success">Бонус!</span></h3>
                    <ul>
                      <li>Если вы надолго покидаете дом (особенно в холодный период), то не забудьте максиально слить воду изо всех труб;</li>
                      <li>Кран с горячей водой — слева, а с холодной — справа.</li>
                    </ul>
                    <h3>Скидки от моих партнёров</h3>
                    <ul>
                      <li>СТД Петрович — максимальная скидка по золотой карте</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
    <div class="is-order-form">
      <div class="container">
        <div class="content">
          <section class="hero is-medium">
            <div class="hero-body">
              <app-order-form/>
            </div>
          </section>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="content">
        <section class="hero is-small">
          <div class="hero-body">
            <h2 class="title has-text-centered">Рабочий процесс, выполненные проекты</h2>
            <h4 class="subtitle has-text-centered"><a href="https://www.instagram.com/gderemonta_net/" target="_blank">@gderemonta_net</a> #сантехника</h4>
            <br/>
            <br/>
            <br/>
            <div id="instafeed" class="columns is-mobile is-multiline"></div>
            <br/>
            <div class="has-text-centered">
              <button class="is-medium is-info is-outlined button" id="load-more">Посмотреть ещё!</button>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</template>

<script>
  import AppOrderForm from '~components/OrderForm.vue';

  import axios from 'axios';

  if (process.BROWSER_BUILD) {
    
    let url = 'https://gderemonta.net/tech/instagramfeed.php?hashtag=';
    let hashtag = 'сантехника';
    let feed = [];

    const moment = require('moment');
    moment.locale('ru');

    axios.get(url + hashtag)
    .then((response) => {
      // Response array.
      feed = response.data;

      // Main array loop.
      for (let item in feed) {
        document.getElementById('instafeed').innerHTML += '<div class="column is-one-quarter-desktop is-half-tablet is-hide instafeed-item"><img style="border-radius:3px;" src="' + feed[item].url + '"/><p><strong>' + moment(moment.unix(feed[item].created_time).format('YYYY-MM-DD HH:mm')).startOf('minute').fromNow() + '</strong></p><p>' + feed[item].caption + '</p></div>';
      }

      // Define count.
      let slice_count = 8;
      let columns = document.querySelectorAll('.instafeed-item');
      let slice_array = [...columns].slice(0, slice_count);
      let load_more_button = document.getElementById('load-more');

      // Show load more button.
      if (columns.length <= slice_count) {
        load_more_button.style.display = 'none';
      }

      // Load more photo.
      if (columns.length > 0) {
        // Show first 8 items.
        for (let item in slice_array) {          
          slice_array[item].classList.remove('is-hide');
        }

        // Click load more button.
        load_more_button.addEventListener('click', function(event) {
          event.preventDefault();

          let columns_hide = document.querySelectorAll('.is-hide.instafeed-item');
          let slice_array_hide = [...columns_hide].slice(0, slice_count);

          // Load more items.
          for (let item in slice_array_hide) {         
            slice_array_hide[item].classList.remove('is-hide');
          }
          
          // Show load more button.
          if (columns_hide.length <= slice_count) {
            load_more_button.style.display = 'none';
          }
        });      
      }
    })
    .catch((error) => {
      console.log(error);
    });
  }
  
  export default {
    components: {
      AppOrderForm
    },
    head () {
      return {
        title: 'Установка сантехнического оборудования. Сантехнические работы любой сложности',
        meta: [
          {
          	hid: 'description', name: 'description', 
          	content: 'Установлю туалет, раковину, душевую и прочее оборудование. Возможна работа под ключ с разводкой водяных труб по дому.'
          },
          {
          	hid: 'keywords', name: 'keywords', 
          	content: 'установка сантехнического оборудования, сантехнические работы'
          }
        ]
      }
    }
  }
</script>