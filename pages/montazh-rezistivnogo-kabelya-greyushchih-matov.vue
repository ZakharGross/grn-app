<template>
  <div class="service-page">
		<div class="service-montazh-rezistiv-background">
	  	<div class="container is-more-padding-vertical">
		  	<div class="content">
			  	<section class="hero is-content">
						<div class="hero-body">
				  		<div class="columns">
				  			<div class="column">
				  				<div class="subtitle is-blue">
				  					<span class="icon"><i class="fa fa-fire"></i></span>
				  					Монтаж тёплого пола
				  				</div>
				  				<h1 class="title is-green">Монтаж резистивного кабеля, греющих матов</h1>
								</div>	  				
				  			<div class="column">
				  				<p>В основном резистивный кабель или нагревательные маты кладут во влажных помещениях или на кухне в городских квартирах. В отличии от других систем обогрева могут монтироваться без стяжки в плиточный клей, а значит не забирать высоту помещения.</p>
                  <p>Все работы я могу производить «под ключ» с установкой терморегуляторов и укладкой напольной плитки.</p>
				  			</div>
				  		</div>
			  		</div>
			  	</section>
		  	</div>
	  	</div>
  	</div>
    <div class="container">
      <div class="content">
        <section class="hero is-medium">
          <div class="hero-body">
            <div class="menu-page-app">
              <div class="columns has-text-centered">
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/viezd.svg" alt="Шаг 1"/><br/>Бесплатный выезд сметчика на объект                  
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/dogovor.svg" alt="Шаг 2"/><br/>Составление предварительной сметы за 1 рабочий день
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/proektirovanie.svg" alt="Шаг 3"/><br/>При необходимости, изготовление проекта
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/oplata-50.svg" alt="Шаг 4"/><br/>Подписание договора и оплата материалов
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/money.svg" alt="Шаг 5"/><br/>Оплата 50% выполненных работ
                </div>
                <div class="column is-full-mobile">
                  <img class="image is-128x128" src="~assets/img/oplata-100.svg" alt="Шаг 6"/><br/>Подписание акта выполненных работ, финальный расчёт
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
    <div class="is-gray">
      <div class="container">
        <div class="content">
          <section class="hero is-small">
            <div class="hero-body">
              <div class="menu-page-app">
                <div class="columns">
                  <div class="column is-full-mobile">                    
                    <h2>Стоимость основных работ</h2>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Монтаж матов нагревательных</td><td>50 руб./пог.м</td></tr>
                        <tr><td>Монтаж резистивного кабеля (на ленту<br/>перфорированную)</td><td>80 руб./пог.м</td></tr>
                        <tr><td>Настил подложки</td><td>50 руб./м<sup>2</sup></td></tr>
                      </tbody>
                    </table>
                    <h3>Установка терморегулятора</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Штробление под гофротрубу (простое)</td><td>100 руб./пог.м</td></tr>
                        <tr><td>Штробление под гофротрубу (сложное)</td><td>200 руб./пог.м</td></tr>
                        <tr><td>Монтаж терморегулятора</td><td>360 руб./шт.</td></tr>
                      </tbody>
                    </table>
                    <h3>Финишное покрытие</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Укладка напольной плитки</td><td>800 руб./м<sup>2</sup></td></tr>
                        <tr><td>Укладка ламината</td><td>300 руб./м<sup>2</sup></td></tr>
                      </tbody>
                    </table>
                    <h3>Возможно понадобится</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Прохождение стены (простое)</td><td>50 руб./отверстие</td></tr>
                        <tr><td>Прохождение стены (сложное)</td><td>100 руб./отверстие</td></tr>
                      </tbody>
                    </table>
                    <h3>Выезд на объект</h3>
                    <table class="table is-striped">
                      <tbody>
                        <tr><td>Транспортные расходы (в черте города)</td><td>400 руб./поездка</td></tr>
                        <tr><td>Транспортные расходы (по Лен. обл.)</td><td>от 600 руб./поездка</td></tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="column is-full-mobile">
                    <h2>Принципы моей работы</h2>
                    <ul>
                      <li>Я использую резистивный кабель и греющие маты только с проверенного мною южнокорейского завода <a href="http://hotcable.pro" target="_blank">SH Korea</a> (HOT-Cable);</li>
                      <li>Обязательный монтаж терморегулятора;</li>
                      <li>Всегда полный отчёт (чеки) по стройматериалам;</li>
                      <li>Довожу до финала, не берусь за два объекта одновременно;</li>
                      <li>Работаю по договору с нашим юр. лицом (ООО «Изи Групп»);</li>
                      <li>Одна русская бригада уже более 10 лет (Юрий и Ростислав);</li>
                      <li>Я даю 1 год настоящей гарантии на все свои работы.</li>
                    </ul>
                    <h3>Полезные советы <span class="tag is-medium is-success">Бонус!</span></h3>
                    <ul>
                      <li>Не забывайте про подложку, которая сократит ваши теплопотери и не даст греть потолок вашему соседу.</li>
                    </ul>
                    <h3>Скидки от моих партнёров</h3>
                    <ul>
                      <li>СТД Петрович — максимальная скидка по золотой карте</li>
                      <li>SH Korea (HOT-Cable) — 10% от розницы</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
    <div class="is-order-form">
      <div class="container">
        <div class="content">
          <section class="hero is-medium">
            <div class="hero-body">
              <app-order-form/>
            </div>
          </section>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="content">
        <section class="hero is-small">
          <div class="hero-body">
            <h2 class="title has-text-centered">Рабочий процесс, выполненные проекты</h2>
            <h4 class="subtitle has-text-centered"><a href="https://www.instagram.com/gderemonta_net/" target="_blank">@gderemonta_net</a> #греющийкабель</h4>
            <br/>
            <br/>
            <br/>
            <div id="instafeed" class="columns is-mobile is-multiline"></div>
            <br/>
            <div class="has-text-centered">
              <button class="is-medium is-info is-outlined button" id="load-more">Посмотреть ещё!</button>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</template>

<script>
  import AppOrderForm from '~components/OrderForm.vue';

  import axios from 'axios';  

  if (process.BROWSER_BUILD) {
    
    let url = 'https://gderemonta.net/tech/instagramfeed.php?hashtag=';
    let hashtag = 'греющийкабель';
    let feed = [];

    const moment = require('moment');
    moment.locale('ru');

    axios.get(url + hashtag)
    .then((response) => {
      // Response array.
      feed = response.data;

      // Main array loop.
      for (let item in feed) {
        document.getElementById('instafeed').innerHTML += '<div class="column is-one-quarter-desktop is-half-tablet is-hide instafeed-item"><img style="border-radius:3px;" src="' + feed[item].url + '"/><p><strong>' + moment(moment.unix(feed[item].created_time).format('YYYY-MM-DD HH:mm')).startOf('minute').fromNow() + '</strong></p><p>' + feed[item].caption + '</p></div>';
      }

      // Define count.
      let slice_count = 8;
      let columns = document.querySelectorAll('.instafeed-item');
      let slice_array = [...columns].slice(0, slice_count);
      let load_more_button = document.getElementById('load-more');

      // Show load more button.
      if (columns.length <= slice_count) {
        load_more_button.style.display = 'none';
      }

      // Load more photo.
      if (columns.length > 0) {
        // Show first 8 items.
        for (let item in slice_array) {          
          slice_array[item].classList.remove('is-hide');
        }

        // Click load more button.
        load_more_button.addEventListener('click', function(event) {
          event.preventDefault();

          let columns_hide = document.querySelectorAll('.is-hide.instafeed-item');
          let slice_array_hide = [...columns_hide].slice(0, slice_count);

          // Load more items.
          for (let item in slice_array_hide) {         
            slice_array_hide[item].classList.remove('is-hide');
          }
          
          // Show load more button.
          if (columns_hide.length <= slice_count) {
            load_more_button.style.display = 'none';
          }
        });      
      }
    })
    .catch((error) => {
      console.log(error);
    });
  }
  
  export default {
    components: {
      AppOrderForm
    },
    head () {
      return {
        title: 'Монтаж резистивного кабеля, греющих матов. Монтаж тёплого пола',
        meta: [
          {
          	hid: 'description', name: 'description', 
          	content: 'В основном резистивный кабель или нагревательные маты кладут во влажных помещениях или на кухне в городских квартирах. В отличии от других систем обогрева могут монтироваться без стяжки в плиточный клей, а значит не забирать высоту помещения.'
          },
          {
          	hid: 'keywords', name: 'keywords', 
          	content: 'монтаж резистивного кабеля, монтаж греющих матов, монтаж тёплого пола'
          }
        ]
      }
    }
  }
</script>